{% extends 'base.html' %}
{% block body_block %}
  <div class ="container create-bg">
    <div class="container">
      <h2 class="images-title">New Artist Submission Form</h2>
      <p>
        The Artist object stores basic pertinent information about an individual artist.  Artists have an Image and may also have Links. If the Image or Links you would like to include have already been uploaded, select select them from the menus below. Otherwise, you can add them on the fly by pressing one of the buttons below.
      </p>
    </div>
    <div class="container">
      {% include './artist_form_button_bar.html' %}
    </div>
    <br>
    <br>
    <div class="container">
      <form  method="post" enctype="multipart/form-data">
        {% csrf_token %}
      <!-- Custom model choice form field for Image -->
      <div class="row">
        <div class="col-2">
          <h5 class="form-label">{{ form.image.label_tag }}</h5>
        </div>
        <div class="col-sm-10 images-form-selector">
          {{ form.image.errors }}
          <p>{{ form.image.help_text}}</p>
          {% if form.image.field.choices.queryset.all|length == 0 %}
            <p><i>No objects found.</i></p>
          {% else %}
            <!-- image grid layout for model choices -->
            {% for value in form.image.field.choices %}
              {% if value|first != '' %}
                <div class="studio-images-card float-left" style="background-image:url('/media/{{ value.2.thumbnail_file }}')">
                  <p>&nbsp;<input type="radio" value="{{ value|first }}" name="image" {% if object.image.pk == value|first %}checked{% endif %}></p>
                </div>
              {% endif %}
            {% endfor %}
          {% endif %}
        </div>
      </div>
      <br>
      <br>
      <!-- Standard field iterator -->
      {% for field in form %}
        {% if field != form.image %}
          {{ field.errors }}
          <div class="row">
            <div class="col-2">
              <h5 class="form-label">{{ field.label_tag }}</h5>
            </div>
            <div class="col-sm-10">
              <p>{{ field.help_text }}</p>
              {{ field }}
            </div>
          </div>
          <br>
          <br>
        {% endif %}
      {% endfor %}
        <input type="submit" value="Submit" class="btn btn-success">
      </form>
      <br>
    </div>
  </div>
{% endblock %}
